<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SonnyWorld | Донат 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        :root { --blue-dark: #1e3a8a; --blue-medium: #3b82f6; --white: #ffffff; --gray: #94a3b8; --success: #10b981; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); color: #1e293b; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        
        /* Шапка */
        .header { background: var(--white); padding: 20px 0; border-bottom: 3px solid var(--blue-medium); }
        .header-content { display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; font-size: 28px; font-weight: 800; gap: 15px; color: var(--blue-dark); }
        .logo i { color: var(--blue-medium); }
        .admin-btn { background: var(--blue-medium); color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: 600; }
        
        /* Главная */
        .hero { text-align: center; padding: 80px 0; color: var(--white); background: linear-gradient(135deg, var(--blue-dark) 0%, var(--blue-medium) 100%); }
        .hero h1 { font-size: 48px; margin-bottom: 20px; }
        
        /* Карточки */
        .donate-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin: 50px 0; }
        .donate-card { background: var(--white); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(30, 58, 138, 0.1); border: 2px solid var(--blue-medium); }
        .price { font-size: 42px; font-weight: 800; color: var(--blue-medium); text-align: center; margin: 20px 0; }
        .btn { display: block; width: 100%; padding: 16px; border: none; border-radius: 12px; font-size: 18px; font-weight: 600; cursor: pointer; margin-top: 20px; }
        .btn-buy { background: linear-gradient(135deg, var(--blue-medium) 0%, var(--blue-dark) 100%); color: white; }
        
        /* Форма */
        .payment-section { padding: 60px 0; }
        .payment-form { max-width: 600px; margin: 0 auto; background: var(--white); padding: 40px; border-radius: 20px; box-shadow: 0 20px 60px rgba(30, 58, 138, 0.1); }
        .form-group { margin-bottom: 25px; }
        .form-input { width: 100%; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 16px; }
        .btn-pay { width: 100%; padding: 20px; background: linear-gradient(135deg, var(--success) 0%, #059669 100%); color: white; border: none; border-radius: 15px; font-size: 20px; font-weight: 600; cursor: pointer; }
    </style>
</head>
<body>
    <!-- Шапка -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-crown"></i>
                    <span>SonnyWorld 2026</span>
                </div>
                <a href="admin.html" class="admin-btn">
                    <i class="fas fa-lock"></i> Админ панель
                </a>
            </div>
        </div>
    </header>

    <!-- Главная -->
    <section class="hero">
        <div class="container">
            <h1>Донат для SonnyWorld</h1>
            <p style="font-size: 20px; opacity: 0.9;">2026 год - новая эра сервера</p>
        </div>
    </section>

    <!-- Привилегии -->
    <section class="container">
        <h2 style="text-align: center; font-size: 36px; color: var(--blue-dark); margin: 50px 0 30px;">Выберите привилегию</h2>
        
        <div class="donate-grid">
            <!-- D.Helper -->
            <div class="donate-card">
                <h3 style="text-align: center; font-size: 24px; color: var(--blue-dark);">D.Helper</h3>
                <div class="price">0 ₽</div>
                <ul style="list-style: none; margin: 25px 0;">
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--success); margin-right: 10px;"></i> Префикс [D.Helper]</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--success); margin-right: 10px;"></i> Цветной ник</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--success); margin-right: 10px;"></i> Команда /hat</li>
                </ul>
                <button class="btn" onclick="selectDonate('D.Helper', 0)" style="background: #f0fdf4; color: var(--success); border: 2px solid var(--success);">
                    <i class="fas fa-gift"></i> Бесплатно
                </button>
            </div>

            <!-- Helper -->
            <div class="donate-card">
                <div style="background: var(--success); color: white; padding: 5px 15px; border-radius: 20px; display: inline-block; margin-bottom: 15px;">ТОП</div>
                <h3 style="text-align: center; font-size: 24px; color: var(--blue-dark);">Helper</h3>
                <div class="price">1 ₽</div>
                <ul style="list-style: none; margin: 25px 0;">
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Все из D.Helper</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Префикс [Helper]</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Команда /tpa</li>
                </ul>
                <button class="btn btn-buy" onclick="selectDonate('Helper', 1)">
                    <i class="fas fa-shopping-cart"></i> Купить за 1 ₽
                </button>
            </div>

            <!-- Moder -->
            <div class="donate-card">
                <h3 style="text-align: center; font-size: 24px; color: var(--blue-dark);">Moder</h3>
                <div class="price">299 ₽</div>
                <ul style="list-style: none; margin: 25px 0;">
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Все из Helper</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Префикс [Moder]</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Модераторские команды</li>
                </ul>
                <button class="btn btn-buy" onclick="selectDonate('Moder', 299)">
                    <i class="fas fa-shopping-cart"></i> Купить за 299 ₽
                </button>
            </div>
        </div>

        <div class="donate-grid">
            <!-- Ml.Admin -->
            <div class="donate-card">
                <h3 style="text-align: center; font-size: 24px; color: var(--blue-dark);">Ml.Admin</h3>
                <div class="price">599 ₽</div>
                <ul style="list-style: none; margin: 25px 0;">
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Все из Moder</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Префикс [Ml.Admin]</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Админ команды</li>
                </ul>
                <button class="btn btn-buy" onclick="selectDonate('Ml.Admin', 599)">
                    <i class="fas fa-shopping-cart"></i> Купить за 599 ₽
                </button>
            </div>

            <!-- Admin -->
            <div class="donate-card">
                <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 5px 15px; border-radius: 20px; display: inline-block; margin-bottom: 15px;">ПРЕМИУМ</div>
                <h3 style="text-align: center; font-size: 24px; color: var(--blue-dark);">Admin</h3>
                <div class="price">999 ₽</div>
                <ul style="list-style: none; margin: 25px 0;">
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Все из Ml.Admin</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Полные админ права</li>
                    <li style="padding: 10px 0;"><i class="fas fa-check" style="color: var(--blue-medium); margin-right: 10px;"></i> Личный остров</li>
                </ul>
                <button class="btn btn-buy" onclick="selectDonate('Admin', 999)">
                    <i class="fas fa-crown"></i> Купить за 999 ₽
                </button>
            </div>
        </div>
    </section>

    <!-- Форма оплаты -->
    <section class="payment-section">
        <div class="container">
            <div class="payment-form" id="paymentForm">
                <h2 style="text-align: center; color: var(--blue-dark); margin-bottom: 30px;">
                    <i class="fas fa-credit-card"></i> Оплата через ЮMoney
                </h2>
                
                <div id="selectedDonateInfo" style="background: #e0f2fe; padding: 20px; border-radius: 10px; margin-bottom: 30px; border-left: 5px solid var(--blue-medium);">
                    <h3 style="color: var(--blue-dark);">Выберите привилегию</h3>
                    <p style="color: var(--gray);">Нажмите "Купить" на нужной привилегии</p>
                </div>
                
                <form id="donateForm">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--blue-dark);">
                            <i class="fas fa-user"></i> Ваш ник в игре
                        </label>
                        <input type="text" class="form-input" id="nickname" placeholder="Player123" required>
                    </div>
                    
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--blue-dark);">
                            <i class="fas fa-wallet"></i> Ваш кошелек ЮMoney
                        </label>
                        <input type="text" class="form-input" id="yoomoneyWallet" placeholder="410011..." required>
                        <small style="color: var(--gray); font-size: 14px;">Для отправки чека об оплате</small>
                    </div>
                    
                    <div style="margin: 25px 0; padding: 20px; background: #f8fafc; border-radius: 10px;">
                        <h4 style="color: var(--blue-dark); margin-bottom: 15px;">
                            <i class="fas fa-info-circle"></i> Как работает оплата:
                        </h4>
                        <ol style="padding-left: 20px; color: var(--gray);">
                            <li>Вы нажимаете "Оплатить"</li>
                            <li>Открывается страница ЮMoney</li>
                            <li>Вы вводите данные карты на сайте ЮMoney</li>
                            <li>ЮMoney переводит деньги нам</li>
                            <li>Мы видим оплату и выдаем привилегию</li>
                        </ol>
                    </div>
                    
                    <button type="submit" class="btn-pay" id="payButton">
                        <i class="fas fa-lock"></i> Перейти к оплате
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Футер -->
    <footer style="background: var(--blue-dark); color: white; padding: 40px 0; margin-top: 60px;">
        <div class="container">
            <div style="text-align: center;">
                <h3 style="margin-bottom: 20px;">
                    <i class="fas fa-crown"></i> SonnyWorld 2026
                </h3>
                <p>© 2026 SonnyWorld Minecraft Server. Все права защищены.</p>
                <p style="margin-top: 10px; color: #cbd5e1; font-size: 14px;">
                    <i class="fas fa-shield-alt"></i> Безопасная оплата через ЮMoney
                </p>
            </div>
        </div>
    </footer>

    <script>
        // КОНФИГ
        const YOOMONEY_WALLET = "4100119450984155";
        let selectedDonate = null;
        let selectedPrice = 0;
        
        // Выбор доната
        function selectDonate(name, price) {
            selectedDonate = name;
            selectedPrice = price;
            
            if (price === 0) {
                Swal.fire({
                    title: 'Бесплатный донат',
                    html: `Для получения <b>${name}</b> напишите в Discord сервер.`,
                    icon: 'info',
                    confirmButtonText: 'ОК'
                });
                return;
            }
            
            document.getElementById('selectedDonateInfo').innerHTML = `
                <h3 style="color: var(--blue-dark);">${name}</h3>
                <p style="color: var(--blue-medium); font-size: 24px; font-weight: bold;">${price} ₽</p>
                <p style="color: var(--gray);">Оплата через ЮMoney → выдача вручную</p>
            `;
            
            document.getElementById('payButton').innerHTML = `<i class="fas fa-lock"></i> Оплатить ${price} ₽`;
            document.getElementById('paymentForm').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Оплата
        document.getElementById('donateForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nickname = document.getElementById('nickname').value;
            const userWallet = document.getElementById('yoomoneyWallet').value;
            
            if (!selectedDonate || selectedPrice === 0) {
                Swal.fire('Выберите привилегию!', '', 'warning');
                return;
            }
            
            // Генерация ID
            const orderId = 'SW' + Date.now();
            
            // Ссылка на ЮMoney
            const yoomoneyUrl = `https://yoomoney.ru/quickpay/confirm.xml?receiver=${YOOMONEY_WALLET}&quickpay-form=shop&sum=${selectedPrice}&label=${orderId}&targets=Донат+${selectedDonate}+для+${nickname}&successURL=${window.location.origin}&failURL=${window.location.origin}`;
            
            // Сохранение заказа
            const order = {
                id: orderId,
                nickname: nickname,
                donate: selectedDonate,
                price: selectedPrice,
                wallet: userWallet,
                date: new Date().toISOString(),
                status: 'pending',
                year: 2026
            };
            
            const orders = JSON.parse(localStorage.getItem('sonny_orders')) || [];
            orders.push(order);
            localStorage.setItem('sonny_orders', JSON.stringify(orders));
            
            // Подтверждение
            Swal.fire({
                title: 'Переход к оплате',
                html: `
                    <div style="text-align: left;">
                        <p><b>Привилегия:</b> ${selectedDonate}</p>
                        <p><b>Игрок:</b> ${nickname}</p>
                        <p><b>Сумма:</b> ${selectedPrice} ₽</p>
                        <p><b>ID заказа:</b> <code>${orderId}</code></p>
                        <hr>
                        <p style="color: #3b82f6; font-weight: bold;">
                            ⚠️ СОХРАНИТЕ ID ЗАКАЗА!
                        </p>
                    </div>
                `,
                icon: 'info',
                showCancelButton: true,
                confirmButtonText: 'Перейти к оплате',
                cancelButtonText: 'Отмена'
            }).then((result) => {
                if (result.isConfirmed) {
                    // Открываем оплату
                    window.open(yoomoneyUrl, '_blank');
                    
                    Swal.fire({
                        title: 'Оплата открыта',
                        html: `
                            <p>Открылась новая вкладка с оплатой.</p>
                            <p><b>Ваш ID:</b> <code>${orderId}</code></p>
                            <p>После оплаты привилегия будет выдана.</p>
                        `,
                        icon: 'success'
                    });
                }
            });
            
            // Сброс формы
            document.getElementById('donateForm').reset();
            selectedDonate = null;
            selectedPrice = 0;
            document.getElementById('selectedDonateInfo').innerHTML = `
                <h3 style="color: var(--blue-dark);">Выберите привилегию</h3>
                <p style="color: var(--gray);">Нажмите "Купить" на нужной привилегии</p>
            `;
            document.getElementById('payButton').innerHTML = `<i class="fas fa-lock"></i> Перейти к оплате`;
        });
    </script>
</body>
</html>
